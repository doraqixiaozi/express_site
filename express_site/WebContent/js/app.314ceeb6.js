(function(t){function e(e){for(var a,i,r=e[0],o=e[1],u=e[2],l=0,f=[];l<r.length;l++)i=r[l],s[i]&&f.push(s[i][0]),s[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);h&&h(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==s[r]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s={app:0},c=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-0eb59062":"dfb3bf7e","chunk-1d7949cc":"4aa5659b","chunk-65ec2f5c":"060bea15","chunk-6d1a8d7c":"4f0e3d6f","chunk-66ae5d38":"5691d619","chunk-e5ac65e0":"eb3d7593","chunk-730fa0a0":"b0e57502","chunk-981bba26":"f4c59766"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-0eb59062":1,"chunk-1d7949cc":1,"chunk-65ec2f5c":1,"chunk-66ae5d38":1,"chunk-e5ac65e0":1,"chunk-730fa0a0":1,"chunk-981bba26":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-0eb59062":"7775eda9","chunk-1d7949cc":"6d4b04a1","chunk-65ec2f5c":"3f60fc48","chunk-6d1a8d7c":"31d6cfe0","chunk-66ae5d38":"757d4be8","chunk-e5ac65e0":"053626c8","chunk-730fa0a0":"6d8788e2","chunk-981bba26":"789d72f1"}[t]+".css",i=o.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var r=s[c],u=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(u===a||u===i))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){r=l[c],u=r.getAttribute("data-href");if(u===a||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.request=a,n(s)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){i[t]=0}));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise(function(e,n){a=s[t]=[e,n]});e.push(a[2]=c);var u,l=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,o.nc&&f.setAttribute("nonce",o.nc),f.src=r(t),u=function(e){f.onerror=f.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");c.type=a,c.request=i,n[1](c)}s[t]=void 0}};var h=setTimeout(function(){u({type:"timeout",target:f})},12e4);f.onerror=f.onload=u,l.appendChild(f)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/express_site/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var h=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0bca":function(t,e,n){"use strict";var a=n("2b0e");e["a"]=new a["default"]},"21af":function(t,e,n){"use strict";var a=n("44d6"),i=n.n(a);i.a},"2c66":function(t,e,n){},"32be":function(t,e){var n={list:[{from_id:1,to_id:0,text:"我是1到0",time:"",isRead:!1},{from_id:2,to_id:0,text:"我是2到0",time:"",isRead:!1},{from_id:2,to_id:0,text:"我是2到0",time:"",isRead:!1},{from_id:2,to_id:0,text:"我是2到0",time:"",isRead:!1},{from_id:3,to_id:0,text:"我是3到0",time:"",isRead:!1},{from_id:4,to_id:0,text:"我是4到0",time:"",isRead:!1}]};t.exports=n},"44d6":function(t,e,n){},"56c7":function(t,e,n){"use strict";var a=n("f6d7"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"header"},[n("nav-header",{attrs:{rigtIcon:"&#xe613;"}})],1),n("div",{staticClass:"blank"}),n("main",{staticClass:"main"},[n("router-view")],1),n("footer",{staticClass:"footer"},[t.showFooter?n("WechatFooter"):t._e(),t.showDialog?n("send-message-footer"):t._e()],1)])},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer"},[n("nav",{staticClass:"container"},[n("router-link",{staticClass:"nav-a",attrs:{to:"/chat"}},[n("div",{staticClass:"commit",on:{click:function(e){t.handleClick(0)}}},[n("i",{staticClass:"nav-a-i nav-a-icon iconfont"},[t._v(""),n("p",{staticClass:"messageCount"},[t._v("4")])]),n("i",{staticClass:"nav-a-i nav-a-text"},[t._v("chat")])])]),n("router-link",{staticClass:"nav-a",attrs:{to:"contacts"}},[n("div",{staticClass:"commit",on:{click:function(e){t.handleClick(1)}}},[n("i",{staticClass:"nav-a-i nav-a-icon iconfont"},[t._v("")]),n("i",{staticClass:"nav-a-i nav-a-text"},[t._v("Contacts")])])]),n("router-link",{staticClass:"nav-a",attrs:{to:"discover"}},[n("div",{staticClass:"commit",on:{click:function(e){t.handleClick(2)}}},[n("i",{staticClass:"nav-a-i nav-a-icon iconfont"},[t._v("")]),n("i",{staticClass:"nav-a-i nav-a-text"},[t._v("Discover")])])]),n("router-link",{staticClass:"nav-a",attrs:{to:"me"}},[n("div",{staticClass:"commit",on:{click:function(e){t.handleClick(3)}}},[n("i",{staticClass:"nav-a-i nav-a-icon iconfont"},[t._v("")]),n("i",{staticClass:"nav-a-i nav-a-text"},[t._v("Me")])])])],1)])},r=[],o=n("be94"),u=n("2f62"),l={name:"WechatFooter",data:function(){return{headerMenuArr:[{index:0,text:"Wechat"},{index:1,text:"Contacts"},{index:2,text:"Discover"},{index:3,text:"Me"}]}},methods:Object(o["a"])({},Object(u["d"])({set_menu_msg:"SET_MENUMSG"}),{handleClick:function(t){this.set_menu_msg(this.headerMenuArr[t])}})},f=l,h=(n("b928"),n("2877")),d=Object(h["a"])(f,c,r,!1,null,"93b08454",null);d.options.__file="Footer.vue";var m=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wechatHeader"}},[n("span",{staticClass:"header-list header-left header-icon"},["/chatting"==t.$route.path||"/contactdetail"===t.$route.path?n("span",{staticClass:"header-icon",on:{click:t.back}},[t._v("")]):t._e()]),n("span",{staticClass:"header-list text-center"},[t._v(t._s(t.topBarMsg.text))]),"/chat"===t.$route.path?n("span",{staticClass:"header-list header-right header-icon"},[t._v("")]):t._e(),"/contacts"===t.$route.path?n("span",{staticClass:"header-list header-right header-icon"},[t._v("")]):t._e(),"/chatting"===t.$route.path?n("span",{staticClass:"header-list header-right header-icon"},[t._v("")]):t._e()])},v=[],g=(n("6b54"),{name:"WechatHeader",computed:{topBarMsg:function(){return this.$store.state.topBarMsg}},methods:{back:function(){this.$router.back(),this.$store.commit("SET_MENUMSG",{index:0,text:"Wechat"})}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}}),_=g,b=(n("ddf0"),Object(h["a"])(_,p,v,!1,null,"a98170f6",null));b.options.__file="Header.vue";var C=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outer"},[n("i",{staticClass:"line-top"}),n("div",{staticClass:"container"},[n("span",{staticClass:"voice iconfont"},[t._v("")]),n("div",{staticClass:"input"},[n("input",{attrs:{type:"text",name:"sendMsg"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.send()}}})]),n("span",{staticClass:"expressions iconfont"},[t._v("")]),n("span",{staticClass:"add iconfont"},[t._v("")])])])},x=[],y=n("0bca"),S={name:"SendMessage",methods:Object(o["a"])({},Object(u["b"])(["commitMsg"]),{send:function(){var t=document.getElementsByTagName("input")[0].value;if(""!==t.trim()){document.getElementsByTagName("input")[0].value="";var e={from_id:0,to_id:this.$store.getters.getTmpContact.id,time:(new Date).toLocaleString(),text:t,isRead:!0};y["a"].$emit("add_dialog",t),this.$store.dispatch("commitMsg",e)}else this.$notify.error({title:"输入非法",message:"内容不能为空"})}})},E=S,M=(n("21af"),Object(h["a"])(E,k,x,!1,null,"99142186",null));M.options.__file="SendMessage.vue";var T=M.exports,w={name:"App",data:function(){return{iconRight:function(){return this.$route.meta.iconRight},showFooter:!0,showDialog:!1}},components:{WechatFooter:m,"nav-header":C,"send-message-footer":T},watch:{$route:{handler:function(t){"/chatting"===t.path?(this.showFooter=!1,this.showDialog=!0):"/signin"===t.path||"/signup"===t.path?this.showFooter=this.showDialog=!1:(this.showFooter=!0,this.showDialog=!1)}}},mounted:function(){this.$store.dispatch("fetch_contacts"),this.$store.dispatch("fetch_messages")}},O=w,j=(n("7c55"),Object(h["a"])(O,i,s,!1,null,null,null));j.options.__file="App.vue";var $=j.exports,A=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chats"}},[n("Search"),t._l(t.get_users.length,function(e){return n("ChatItem",{attrs:{chat:t.get_users[e-1]}})})],2)},N=[],B=n("944c"),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"chat-item",on:{click:t.handleClick}},[n("section",{staticClass:"chat-item-sec chat-item-left"},[n("img",{staticClass:"chat-item-profile",attrs:{src:t.chat.profile,alt:"alex"}}),n("p",{staticClass:"messageCount"},[t._v("1")])]),n("section",{staticClass:"chat-item-sec chat-item-right"},[n("b",{staticClass:"title"},[t._v(t._s(t.chat.name))]),n("b",{staticClass:"message"},[t._v(t._s(t._f("textOverflow")(t.endText)))])]),n("section",{staticClass:"time"},[t._v("4:50 PM")])]),n("i",{staticClass:"line clearfix"})])},R=[],U=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),{name:"ChatItem",computed:Object(o["a"])({},Object(u["c"])(["get_users","getMsgs"])),data:function(){return{messageCount:4,endText:""}},props:{chat:{type:Object}},methods:{handleClick:function(){var t="",e=!0,n=!1,a=void 0;try{for(var i,s=this.get_users[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var c=i.value;c.name===this.chat.name&&(t=c.name)}}catch(r){n=!0,a=r}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}this.$store.commit("SET_MENUMSG",{index:-1,text:t}),this.$store.commit("SET_TMP_CONTACT",this.chat),this.$router.push({name:"chatting",params:{userid:this.chat.id}})},getFiltedMsg:function(t,e){var n=this.getMsgs,a=[];n.forEach(function(n){n.from_id===t&&n.to_id===e&&a.push(n)}),0!==a.length&&(this.endText=a.last().text)}},filters:{textOverflow:function(t){return t.length>25?t.slice(0,25)+"...":t}},mounted:function(){this.$store.dispatch("fetch_users"),this.getFiltedMsg(0,this.chat.id)}}),D=U,G=(n("56c7"),Object(h["a"])(D,F,R,!1,null,"0536d78a",null));G.options.__file="ChatItem.vue";var W=G.exports,H={name:"Chats",components:{Search:B["a"],ChatItem:W},computed:Object(o["a"])({},Object(u["c"])(["get_users"]))},I=H,L=(n("9af8"),Object(h["a"])(I,P,N,!1,null,"21edc294",null));L.options.__file="Chats.vue";var q=L.exports,J=[{path:"/",redirect:"/signin"},{path:"/chat",name:"Chats",component:q},{path:"/contacts",name:"contacts",component:function(){return n.e("chunk-981bba26").then(n.bind(null,"c93c"))}},{path:"/discover",name:"discover",component:function(){return n.e("chunk-65ec2f5c").then(n.bind(null,"6723"))}},{path:"/me",name:"me",component:function(){return n.e("chunk-1d7949cc").then(n.bind(null,"0a99"))}},{path:"/chatting",name:"chatting",component:function(){return n.e("chunk-0eb59062").then(n.bind(null,"ab11"))}},{path:"/signup",name:"signup",component:function(){return Promise.all([n.e("chunk-6d1a8d7c"),n.e("chunk-e5ac65e0")]).then(n.bind(null,"5c9c"))}},{path:"/signin",name:"signin",component:function(){return Promise.all([n.e("chunk-6d1a8d7c"),n.e("chunk-66ae5d38")]).then(n.bind(null,"54e2"))}},{path:"/contactdetail",name:"contactdetail",component:function(){return n.e("chunk-730fa0a0").then(n.bind(null,"90fa"))}}];a["default"].use(A["a"]);var z=new A["a"]({routes:J});z.beforeEach(function(t,e,n){var a=["/chat","/contacts","/discover","/me"];a.some(function(e){return e===t.path});n()});var K=z,Q={topBarMsg:{index:0,text:"Wechat"},tmpContact:{}},V=n("ade3"),X="SET_TMP_CONTACT",Y=Object(V["a"])({SET_MENUMSG:function(t,e){t.topBarMsg=e}},X,function(t,e){t.tmpContact=e}),Z={fetch_users:function(t){var e=t.commit,a=n("699f");e("SET_USER",a)},fetch_messages:function(t){var e=t.commit,a=n("32be");e("SET_MSG",a)}},tt={getTmpContact:function(t){return t.tmpContact}},et={list:[]},nt={SET_MSG:function(t,e){t.list=e.list},PUSH_MSG:function(t,e){t.list.push(e)}},at={commitMsg:function(t,e){var n=t.commit;t.state;n("PUSH_MSG",e)},fetch_messages:function(){var t=n("32be");this.state.list=t.list}},it={getMsgs:function(t){return t.list}},st={state:et,mutations:nt,actions:at,getters:it},ct=st,rt={list:[{id:"",name:"",profile:""}]},ot={SET_USER:function(t,e){t.list=e.list}},ut={get_users:function(t){return t.list}},lt={state:rt,mutations:ot,getters:ut},ft=lt,ht={list:[{id:2,name:"陈欢",profile:"@/assets/img/3.png"}]},dt={SET_CONTACT:function(t,e){t.list=e.list}},mt={fetch_contacts:function(t){var e=t.commit,a=n("8b9b");e("SET_CONTACT",a)}},pt={get_contacts:function(t){return t.list}},vt={state:ht,mutations:dt,actions:mt,getters:pt},gt=vt;a["default"].use(u["a"]);var _t=new u["a"].Store({state:Q,mutations:Y,actions:Z,getters:tt,modules:{message:ct,chat:ft,contact:gt}}),bt=n("88da"),Ct=n.n(bt);n("e382"),n("ad06"),n("d3e7");a["default"].config.productionTip=!1,a["default"].use(Ct.a),new a["default"]({router:K,store:_t,render:function(t){return t($)}}).$mount("#app"),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]})},"5c48":function(t,e,n){},"5f93":function(t,e,n){"use strict";var a=n("f0bb"),i=n.n(a);i.a},"699f":function(t,e){var n={list:[{id:1,name:"周佳俊",profile:"../static/img/2.png"},{id:2,name:"陈欢",profile:"@/assets/img/3.png"},{id:3,name:"周波",profile:"@/assets/img/Alex.jpeg"},{id:4,name:"季启翰",profile:"@/assets/img/2.png"}]};t.exports=n},"7c55":function(t,e,n){"use strict";var a=n("5c48"),i=n.n(a);i.a},"8b9b":function(t,e){var n={list:[{id:1,name:"周佳俊",profile:"../static/img/2.png"},{id:2,name:"陈欢",profile:"@/assets/img/3.png"},{id:3,name:"周波",profile:"@/assets/img/Alex.jpeg"},{id:4,name:"季启翰",profile:"@/assets/img/2.png"}]};t.exports=n},"944c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search clearfix"},[n("div",{staticClass:"srh-div iconfont",attrs:{type:"text"}},[t._v("\n     Search\n  ")])])}],s={name:"Search"},c=s,r=(n("5f93"),n("2877")),o=Object(r["a"])(c,a,i,!1,null,"67f06a36",null);o.options.__file="Search.vue";e["a"]=o.exports},9738:function(t,e,n){},"9af8":function(t,e,n){"use strict";var a=n("9738"),i=n.n(a);i.a},b928:function(t,e,n){"use strict";var a=n("bff3"),i=n.n(a);i.a},bff3:function(t,e,n){},d3e7:function(t,e,n){},ddf0:function(t,e,n){"use strict";var a=n("2c66"),i=n.n(a);i.a},e382:function(t,e,n){},f0bb:function(t,e,n){},f6d7:function(t,e,n){}});