(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29f2ff07"],{1846:function(e,t,a){},"5c9c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("el-input",{attrs:{placeholder:"邮箱"},on:{change:e.checkEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("el-input",{attrs:{type:"password",placeholder:"密码"},on:{change:e.checkPassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("p",[a("el-radio",{attrs:{label:"1"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[e._v("女")])],1),a("p",[a("el-radio",{attrs:{label:"1"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("老师")]),a("el-radio",{attrs:{label:"2"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("学生")])],1),a("upload",{ref:"img",staticClass:"file",attrs:{uploadType:"head",imgUrl:e.profile},on:{upload:e.getImgUrl}}),a("p",[a("el-button",{attrs:{type:"primary"},on:{click:e.signup}},[e._v("注册")])],1)],1)},n=[],s=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("7f43")),l=a.n(s),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar"},[a("div",{on:{mouseover:function(t){e.showBg=!0},mouseleave:function(t){e.showBg=!1}}},[a("label",{staticClass:"label"},[e._v("上传头像")]),e.file?a("label",{staticClass:"label"},[e._v("添加成功")]):e._e(),a("input",{ref:"avatarInput",staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{change:function(t){e.changeImage(t)}}}),a("img",{attrs:{alt:"",id:"avatarimg"}})])])},r=[],c={name:"upload",data:function(){return{file:!1,imgdata:{}}},methods:{changeImage:function(e){var t=new FileReader,a=document.getElementById("avatarimg");t.onload=function(e){var t=document.createElement("canvas"),i=t.getContext("2d");a.src=e.target.result,setTimeout(function(){t.width=100,t.height=100,i.clearRect(0,0,100,100),console.log(a),i.drawImage(a,0,0,100,100),a.src=t.toDataURL()})},t.readAsDataURL(e.target.files[0]);var i=new FormData;i.append("avatr",e.target.files[0]),this.imgdata=i}}},p=c,u=(a("72da"),a("2877")),m=Object(u["a"])(p,o,r,!1,null,"505309ba",null);m.options.__file="test.vue";var d=m.exports,f={name:"SignUp",data:function(){return{name:"",email:"",password:"",sex:"",type:"",profile:""}},components:{upload:d},methods:{isEmpty:function(e){if(""===e.value)return this.$notify.error({title:"输入错误",message:"".concat(e.name,"不能为空")}),-1},checkEmail:function(){var e=this.email,t=/.*?@.*?\.com/;if(!t.test(e))return this.$notify.error({title:"输入错误",message:"邮箱格式不正确"}),-1},checkPassword:function(){var e=this.password;if(""!==e){if(!/^\d+$/.test(e))return e.length<6?(this.$notify.error({title:"输入错误",message:"密码长度至少6位"}),this.password="",0):void 0;this.$notify.error({title:"输入错误",message:"密码必须为数字和字母组合"})}else this.$notify.error({title:"输入错误",message:"密码不能为空"})},getImgUrl:function(){console.log("getimg")},signup:function(){var e=this;if(-1!==this.isEmpty({name:"姓名",value:this.name})&&-1!==this.isEmpty({name:"邮箱",value:this.email})&&-1!==this.isEmpty({name:"密码",value:this.password})){var t=this.$refs.img.imgdata;t.append("name",this.name),t.append("email",this.email),t.append("password",this.password),t.append("sex",this.sex),t.append("type",this.type),l()({method:"post",url:"/express_site/signin.action",data:t}).then(function(t){alert("注册成功"),e.$router.push("/signin")}).catch(function(e){alert("signup failed",e)})}}}},g=f,h=(a("c684"),Object(u["a"])(g,i,n,!1,null,"23a43e3e",null));h.options.__file="SignUp.vue";t["default"]=h.exports},"72da":function(e,t,a){"use strict";var i=a("73e0"),n=a.n(i);n.a},"73e0":function(e,t,a){},c684:function(e,t,a){"use strict";var i=a("1846"),n=a.n(i);n.a}}]);