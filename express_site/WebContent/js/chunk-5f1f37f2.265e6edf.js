(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f1f37f2"],{"5c9c":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("el-input",{attrs:{placeholder:"邮箱"},on:{change:e.checkEmail},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("el-input",{attrs:{type:"password",placeholder:"密码"},on:{change:e.checkPassword},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("p",[t("el-radio",{attrs:{label:"1"},model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}},[e._v("男")]),t("el-radio",{attrs:{label:"2"},model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}},[e._v("女")])],1),t("p",[t("el-radio",{attrs:{label:"1"},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},[e._v("老师")]),t("el-radio",{attrs:{label:"2"},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},[e._v("学生")])],1),t("upload",{ref:"img",staticClass:"file",attrs:{uploadType:"head",imgUrl:e.profile},on:{upload:e.getImgUrl}}),t("p",[t("el-button",{attrs:{type:"primary"},on:{click:e.signup}},[e._v("注册")])],1)],1)},i=[],s=(t("7f7f"),t("cadf"),t("551c"),t("097d"),t("7f43")),l=t.n(s),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"avatar"},[t("div",{on:{mouseover:function(a){e.showBg=!0},mouseleave:function(a){e.showBg=!1}}},[t("label",{staticClass:"label"},[e._v("上传头像")]),e.file?t("label",{staticClass:"label"},[e._v("添加成功")]):e._e(),t("input",{ref:"avatarInput",staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{change:function(a){e.changeImage(a)}}}),t("img",{attrs:{alt:"",id:"avatarimg"}})])])},r=[],c={name:"upload",data:function(){return{file:!1,imgdata:{}}},methods:{changeImage:function(e){var a=new FileReader,t=document.getElementById("avatarimg");a.onload=function(e){var a=document.createElement("canvas"),n=a.getContext("2d");t.src=e.target.result,setTimeout(function(){a.width=100,a.height=100,n.clearRect(0,0,100,100),console.log(t),n.drawImage(t,0,0,100,100),t.src=a.toDataURL()})},a.readAsDataURL(e.target.files[0]);var n=new FormData;n.append("avatr",e.target.files[0]),this.imgdata=n}}},p=c,u=(t("72da"),t("2877")),m=Object(u["a"])(p,o,r,!1,null,"505309ba",null);m.options.__file="test.vue";var d=m.exports,f={name:"SignUp",data:function(){return{name:"",email:"",password:"",sex:"",type:"",profile:""}},components:{upload:d},methods:{isEmpty:function(e){if(""===e.value)return this.$notify.error({title:"输入错误",message:"".concat(e.name,"不能为空")}),-1},checkEmail:function(){var e=this.email,a=/.*?@.*?\.com/;if(!a.test(e))return this.$notify.error({title:"输入错误",message:"邮箱格式不正确"}),-1},checkPassword:function(){var e=this.password;if(""!==e)return e.length<6?(this.$notify.error({title:"输入错误",message:"密码长度至少6位"}),this.password="",0):void 0;this.$notify.error({title:"输入错误",message:"密码不能为空"})},getImgUrl:function(){console.log("getimg")},signup:function(){var e=this;if(-1!==this.isEmpty({name:"姓名",value:this.name})&&-1!==this.isEmpty({name:"邮箱",value:this.email})&&-1!==this.isEmpty({name:"密码",value:this.password})){var a=this.$refs.img.imgdata;a.append("name",this.name),a.append("email",this.email),a.append("password",this.password),a.append("sex",this.sex),a.append("type",this.type),l()({method:"post",url:"/express_site/signin.action",data:a}).then(function(a){e.$notify.error({title:"注册成功",message:"您已注册成功"}),console.log(a),e.$router.push("/signin")}).catch(function(e){alert("signup failed",e)})}}}},g=f,h=(t("ac0a"),Object(u["a"])(g,n,i,!1,null,"29c4bea8",null));h.options.__file="SignUp.vue";a["default"]=h.exports},"72da":function(e,a,t){"use strict";var n=t("73e0"),i=t.n(n);i.a},"73e0":function(e,a,t){},ac0a:function(e,a,t){"use strict";var n=t("f25f"),i=t.n(n);i.a},f25f:function(e,a,t){}}]);