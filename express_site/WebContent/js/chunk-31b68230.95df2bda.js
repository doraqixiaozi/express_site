(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31b68230"],{"1f5a":function(e,a,t){"use strict";var i=t("7135"),s=t.n(i);s.a},"5c9c":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("el-input",{attrs:{placeholder:"邮箱"},on:{change:e.checkEmail},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("el-input",{attrs:{type:"password",placeholder:"密码"},on:{change:e.checkPassword},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("p",[t("el-radio",{attrs:{label:"1"},model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}},[e._v("男")]),t("el-radio",{attrs:{label:"2"},model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}},[e._v("女")])],1),t("p",[t("el-radio",{attrs:{label:"1"},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},[e._v("老师")]),t("el-radio",{attrs:{label:"2"},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},[e._v("学生")])],1),t("upload",{ref:"img",staticClass:"file",attrs:{uploadType:"head",imgUrl:e.profile},on:{upload:e.getImgUrl}}),t("p",[t("el-button",{attrs:{type:"primary"},on:{click:e.signup}},[e._v("注册")])],1)],1)},s=[],n=(t("7f7f"),t("cadf"),t("551c"),t("097d"),t("7f43")),l=t.n(n),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"avatar"},[t("div",{on:{mouseover:function(a){e.showBg=!0},mouseleave:function(a){e.showBg=!1}}},[t("label",{staticClass:"label"},[e._v("上传头像")]),e.file?t("label",{staticClass:"label"},[e._v("上传成功")]):e._e(),t("input",{ref:"avatarInput",staticClass:"input-file",attrs:{type:"file",name:"avatar",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{change:function(a){e.changeImage(a)}}}),t("img",{attrs:{src:e.avatar,alt:"",name:"avatar"}})])])},r=[],c={name:"upload",data:function(){return{avatar:"",file:"",showBg:!1,imgdata:{}}},props:["uploadType","imgUrl"],created:function(){this.avatar=this.imgUrl},methods:{changeImage:function(e){console.log(e);var a=e.target.files[0];this.file=a,console.log(this.file);var t=new FileReader,i=this;t.readAsDataURL(a),t.onload=function(e){i.avatar=this.result},this.imgdata=this.$refs.avatarInput.files[0]}}},u=c,p=(t("79ea"),t("2877")),m=Object(p["a"])(u,o,r,!1,null,"01c3129e",null);m.options.__file="test.vue";var f=m.exports,d={name:"SignUp",data:function(){return{name:"",email:"",password:"",sex:"",type:"",profile:"",dialogImageUrl:"",dialogVisible:!1}},components:{upload:f},methods:{isEmpty:function(e){if(""===e.value)return this.$notify.error({title:"输入错误",message:"".concat(e.name,"不能为空")}),-1},checkEmail:function(){var e=this.email,a=/.*?@.*?\.com/;if(!a.test(e))return this.$notify.error({title:"输入错误",message:"邮箱格式不正确"}),-1},checkPassword:function(){var e=this.password;if(""!==e)return e.length<6?(this.$notify.error({title:"输入错误",message:"密码长度至少6位"}),this.password="",0):void 0;this.$notify.error({title:"输入错误",message:"密码不能为空"})},getImgUrl:function(){console.log("getimg")},signup:function(){var e=this;if(-1!==this.isEmpty({name:"姓名",value:this.name})&&-1!==this.isEmpty({name:"邮箱",value:this.email})&&-1!==this.isEmpty({name:"密码",value:this.password}))if(""!==this.$refs.img.avatar){var a={name:this.name,email:this.email,password:this.password,sex:this.sex,type:this.type,avator:this.$refs.img.imgdata};console.log(a),l()({method:"post",url:"/express_site/signin.action",data:a}).then(function(){console.log(e),e.$router.push("/signin")}).catch(function(e){alert("signup failed",e)})}else this.$notify.error({title:"请上传头像",message:"头像大小小于1M"})}}},h=d,g=(t("1f5a"),Object(p["a"])(h,i,s,!1,null,"5de68e15",null));g.options.__file="SignUp.vue";a["default"]=g.exports},7135:function(e,a,t){},"79ea":function(e,a,t){"use strict";var i=t("a93f"),s=t.n(i);s.a},a93f:function(e,a,t){}}]);